#!/usr/bin/env node-from
process.ARGV.shift();

var path = require("path"),
    repl = require("repl"),
    eyes = require("eyes"),
   posix = require("posix"),
     cwd = process.cwd();

repl.writer = eyes.inspector();
repl.prompt = " > ";

var file = process.ARGV[1];
if (typeof file !== 'undefined') {
  if (file.charAt(0) != "/" ) { file = path.join(cwd, file) };
  process.stdio.write("-- Scoping in: " + file + '\n');
  
  // FIXME: This *should* use `process.mixin` to mix the target *into* the
  //        scope. Unfortuantely, that doesn’t work, and I don’t know why.
  repl.scope = from.absolute(file).wait();
}

repl.start();
